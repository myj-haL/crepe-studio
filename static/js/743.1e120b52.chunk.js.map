{"version":3,"file":"static/js/743.1e120b52.chunk.js","mappings":"uJACA,SAAgB,UAAY,yBAAyB,UAAY,yBAAyB,SAAW,yB,iCC0FrG,QArFA,WACE,MAAOA,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,KAClCC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,KAClCG,EAAWC,IAAgBJ,EAAAA,EAAAA,WAAS,GACrCK,GAAWC,EAAAA,EAAAA,MA+CjB,OA5CAC,EAAAA,EAAAA,YAAU,KACMC,aAAaC,QAAQ,gBAEjCJ,EAAS,SAAU,CAAEK,SAAS,GAChC,GACC,CAACL,KAwCFM,EAAAA,EAAAA,KAACC,EAAAA,EAAO,CAAAC,UACNC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAMC,UAAUJ,SAAA,EAC9BF,EAAAA,EAAAA,KAAA,OAAKO,IAAI,OAAOC,IAAKC,EAAAA,KAErBN,EAAAA,EAAAA,MAAA,QAAMO,SA1CSC,UAGnB,GAFAC,EAAEC,kBAEG1B,IAAaG,EAChB,OAAOwB,MAAM,iEAGfrB,GAAa,GAEb,IACE,MAAMsB,EAAUC,oCACVC,QAAiBC,MAAM,GAADC,OAAIJ,EAAO,eAAe,CACpDK,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAErC,WAAUG,eAGnC,IAAK2B,EAASQ,GAAI,CAChB,MAAMC,QAAkBT,EAASU,OACjC,MAAM,IAAIC,MAAMF,EAAUG,OAAS,uEACrC,CAEA,MAAMC,QAAab,EAASU,OAC5B9B,aAAakC,QAAQ,cAAeD,EAAKE,aAEzClB,MAAM,qBACNpB,EAAS,SAAU,CAAEK,SAAS,GAChC,CAAE,MAAOkC,GACPC,QAAQL,MAAMI,EAAIE,SAClBrB,MAAMmB,EAAIE,QACZ,CAAC,QACC1C,GAAa,EACf,GAQiCS,SAAA,EAC3BC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAM+B,UAAUlC,SAAA,EAC9BF,EAAAA,EAAAA,KAAA,SACEqC,KAAK,OACLC,KAAK,WACLlC,UAAWC,EAAMkC,QACjBC,YAAY,KACZC,MAAOtD,EACPuD,SAAW9B,GAAMxB,EAAYwB,EAAE+B,OAAOF,UAExCzC,EAAAA,EAAAA,KAAA,SACEqC,KAAK,WACLC,KAAK,WACLlC,UAAWC,EAAMuC,KACjBJ,YAAY,WACZC,MAAOnD,EACPoD,SAAW9B,GAAMrB,EAAYqB,EAAE+B,OAAOF,aAI1CzC,EAAAA,EAAAA,KAAA,UAAQqC,KAAK,SAASjC,UAAWC,EAAMwC,SAAUC,SAAUtD,EAAUU,SAClEV,EAAY,aAAe,iBAMxC,C","sources":["webpack://minibim/./src/pages/Login/index.module.css?6687","pages/Login/index.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Login_container__kSGIq\",\"field_box\":\"Login_field_box__RLZ83\",\"post_btn\":\"Login_post_btn__ViC3U\"};","import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport style from \"./index.module.css\";\nimport Layouts from \"../../common/components/Layouts\";\nimport logo from \"images/common/logo.svg\";\n\nfunction Login() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const navigate = useNavigate(); // useNavigate 사용\n\n  // ✅ 로그인 상태 확인 후 리디렉션\n  useEffect(() => {\n    const token = localStorage.getItem(\"accessToken\");\n    if (token) {\n      navigate('/works', { replace: true });\n    }\n  }, [navigate]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!username || !password) {\n      return alert(\"ID와 PASSWORD를 입력해주세요.\");\n    }\n\n    setIsLoading(true);\n\n    try {\n      const API_URL = process.env.REACT_APP_API_URL;\n      const response = await fetch(`${API_URL}/auth/login`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ username, password }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || \"로그인이 실패하였습니다.\");\n      }\n\n      const data = await response.json();\n      localStorage.setItem(\"accessToken\", data.accessToken);\n\n      alert(\"Login successful!\");\n      navigate(\"/works\", { replace: true });\n    } catch (err) {\n      console.error(err.message);\n      alert(err.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Layouts>\n      <div className={style.container}>\n        <img alt=\"logo\" src={logo} />\n\n        <form onSubmit={handleSubmit}>\n          <div className={style.field_box}>\n            <input\n              type=\"text\"\n              name=\"username\"\n              className={style.user_id}\n              placeholder=\"ID\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n            <input\n              type=\"password\"\n              name=\"password\"\n              className={style.pass}\n              placeholder=\"PASSWORD\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </div>\n\n          <button type=\"submit\" className={style.post_btn} disabled={isLoading}>\n            {isLoading ? \"Loading...\" : \"Login\"}\n          </button>\n        </form>\n      </div>\n    </Layouts>\n  );\n}\n\nexport default Login;\n"],"names":["username","setUsername","useState","password","setPassword","isLoading","setIsLoading","navigate","useNavigate","useEffect","localStorage","getItem","replace","_jsx","Layouts","children","_jsxs","className","style","container","alt","src","logo","onSubmit","async","e","preventDefault","alert","API_URL","process","response","fetch","concat","method","headers","body","JSON","stringify","ok","errorData","json","Error","error","data","setItem","accessToken","err","console","message","field_box","type","name","user_id","placeholder","value","onChange","target","pass","post_btn","disabled"],"sourceRoot":""}