"use strict";(self.webpackChunkminibim=self.webpackChunkminibim||[]).push([[743],{8643:(e,s,a)=>{a.r(s),a.d(s,{default:()=>l});var t=a(2791),o=a(7689);const n={container:"Login_container__kSGIq",field_box:"Login_field_box__RLZ83",post_btn:"Login_post_btn__ViC3U"};var r=a(5093),i=a(4206),c=a(184);const l=function(){const[e,s]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[u,d]=(0,t.useState)(!1),_=(0,o.s0)();return(0,t.useEffect)((()=>{localStorage.getItem("accessToken")&&_("/works",{replace:!0})}),[_]),(0,c.jsx)(r.Z,{children:(0,c.jsxs)("div",{className:n.container,children:[(0,c.jsx)("img",{alt:"logo",src:i.Z}),(0,c.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),!e||!a)return alert("ID\uc640 PASSWORD\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.");d(!0);try{const s={NODE_ENV:"production",PUBLIC_URL:"/crepe-studio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,t=await fetch("".concat(s,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:a})});if(!t.ok){const e=await t.json();throw new Error(e.error||"\ub85c\uadf8\uc778\uc774 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")}const o=await t.json();localStorage.setItem("accessToken",o.accessToken),alert("Login successful!"),_("/works",{replace:!0})}catch(t){console.error(t.message),alert(t.message)}finally{d(!1)}},children:[(0,c.jsxs)("div",{className:n.field_box,children:[(0,c.jsx)("input",{type:"text",name:"username",className:n.user_id,placeholder:"ID",value:e,onChange:e=>s(e.target.value)}),(0,c.jsx)("input",{type:"password",name:"password",className:n.pass,placeholder:"PASSWORD",value:a,onChange:e=>l(e.target.value)})]}),(0,c.jsx)("button",{type:"submit",className:n.post_btn,disabled:u,children:u?"Loading...":"Login"})]})]})})}}}]);
//# sourceMappingURL=743.f69586d2.chunk.js.map