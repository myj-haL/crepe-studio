"use strict";(self.webpackChunkminibim=self.webpackChunkminibim||[]).push([[651],{7849:(e,s,n)=>{n.d(s,{Z:()=>t});n(2791);const t=n.p+"static/media/icon-add-image.d71fd0b24118b64354b104848c7b2b1e.svg"},7210:(e,s,n)=>{n.d(s,{Z:()=>i});const t={check_form:"Check_check_form__ztXpA",fake_check:"Check_fake_check__B-2RQ"};var a=n(184);const i=function(e){let{content:s,id:n,checked:i,onChange:c}=e;return(0,a.jsxs)("label",{htmlFor:n,className:t.check_form,children:[(0,a.jsx)("input",{type:"checkbox",name:"check",id:n,className:t.true_check,onChange:c,checked:i}),(0,a.jsx)("div",{className:t.fake_check}),(0,a.jsx)("p",{children:s})]})}},5927:(e,s,n)=>{n.r(s),n.d(s,{default:()=>N});var t=n(2791),a=n(5093);const i="WorkWrite_container__uS00Y",c="WorkWrite_editor__3wI0r",l="WorkWrite_inner__y8qVs",r="WorkWrite_upload__uLIV0",o="WorkWrite_title__Ig1Sa",d="WorkWrite_form_box__kaC1N",h="WorkWrite_write_box__BOj8-",u="WorkWrite_img_box__6R7fo",m="WorkWrite_sub_img_list__LB1v0",_="WorkWrite_preview_img__Pvzd6",p="WorkWrite_text_box__klanz",x="WorkWrite_sub_img__9BTWp",k="WorkWrite_remove_button__OTiam",j="WorkWrite_check_form_list__FrOc9";var g=n(4307),b=(n(4409),n(7849)),f=n(7210),v=n(7689),W=n(184);const N=function(){const[e,s]=(0,t.useState)(""),[n,N]=(0,t.useState)([]),[C,y]=(0,t.useState)(""),[S,w]=(0,t.useState)(""),[I,R]=(0,t.useState)(null),[U,Z]=(0,t.useState)([]),P=(0,t.useRef)(null),L=(0,t.useRef)(null),O=(0,v.s0)();(0,t.useEffect)((()=>{localStorage.getItem("accessToken")||O("/",{replace:!0})}),[O]);const B=e=>{N((s=>s.includes(e)?s.filter((s=>s!==e)):[...s,e]))};return(0,W.jsx)(a.Z,{children:(0,W.jsx)("div",{className:i,children:(0,W.jsxs)("div",{className:l,children:[(0,W.jsx)("h3",{className:o,children:"Content Registration"}),(0,W.jsxs)("form",{className:d,onSubmit:async s=>{s.preventDefault();const t=new FormData;t.append("title",e),t.append("link",C),t.append("content",S),t.append("services",JSON.stringify(n)),I&&t.append("mainImage",I),U.forEach(((e,s)=>t.append("subImages[".concat(s,"]"),e)));try{const e=await fetch("".concat("https://back-api-theta.vercel.app","/content/upload"),{method:"POST",body:t});if(e.ok)alert("Content successfully uploaded!"),O("/works");else{const s=await e.json();alert("Error: ".concat(s.message))}}catch(a){console.error("Error uploading content:",a),alert("Failed to upload content.")}},children:[(0,W.jsxs)("div",{className:h,children:[(0,W.jsx)("span",{children:"Title"}),(0,W.jsx)("input",{type:"text",value:e,onChange:e=>s(e.target.value),placeholder:"Please enter the title."})]}),(0,W.jsxs)("div",{className:h,children:[(0,W.jsx)("span",{children:"Services"}),(0,W.jsxs)("div",{className:j,children:[(0,W.jsx)(f.Z,{content:"Branding",id:"branding",onChange:()=>B("Branding")}),(0,W.jsx)(f.Z,{content:"UX/UI Design",id:"design",onChange:()=>B("UX/UI Design")}),(0,W.jsx)(f.Z,{content:"Web Publishing",id:"publishing",onChange:()=>B("Web Publishing")})]})]}),(0,W.jsxs)("div",{className:h,children:[(0,W.jsx)("span",{children:"Link"}),(0,W.jsx)("input",{type:"text",value:C,onChange:e=>y(e.target.value),placeholder:"Please enter the link."})]}),(0,W.jsxs)("div",{className:h,children:[(0,W.jsx)("span",{children:"Content Details"}),(0,W.jsx)(g.Z,{modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"]]},value:S,onChange:w,className:c,placeholder:"Please enter the contents."})]}),(0,W.jsxs)("div",{className:h,children:[(0,W.jsxs)("span",{children:["Main Image",(0,W.jsxs)("p",{children:[(0,W.jsx)("b",{style:{color:"#E65706"},children:I?1:0}),"/1"]})]}),(0,W.jsx)("div",{className:u,onClick:()=>{P.current&&P.current.click()},children:I?(0,W.jsx)("img",{alt:"Main Preview",src:URL.createObjectURL(I),className:_}):(0,W.jsxs)("div",{className:p,children:[(0,W.jsx)("input",{type:"file",ref:P,onChange:e=>((e,s)=>{const n=e.target.files[0];n&&s(n)})(e,R),style:{display:"none"}}),(0,W.jsx)("img",{alt:"add img",src:b.Z}),(0,W.jsx)("p",{children:"Click the icon to upload an image."})]})})]}),(0,W.jsxs)("div",{className:h,children:[(0,W.jsxs)("span",{children:["Sub Images",(0,W.jsxs)("p",{children:[(0,W.jsx)("b",{style:{color:"#E65706"},children:U.length}),"/5"]})]}),(0,W.jsxs)("ul",{className:m,children:[U.length<5&&(0,W.jsx)("li",{onClick:()=>{L.current&&L.current.click()},children:(0,W.jsxs)("div",{className:p,children:[(0,W.jsx)("input",{type:"file",ref:L,onChange:e=>{const s=e.target.files[0];s&&Z((e=>[...e,s]))},style:{display:"none"}}),(0,W.jsx)("img",{alt:"add img",src:b.Z}),(0,W.jsx)("p",{children:"Click the icon to upload an image."})]})}),U.map(((e,s)=>(0,W.jsxs)("li",{children:[(0,W.jsx)("img",{alt:"sub ".concat(s),src:URL.createObjectURL(e),className:x}),(0,W.jsx)("button",{type:"button",onClick:()=>(e=>{Z((s=>s.filter(((s,n)=>n!==e))))})(s),className:k,children:"Remove"})]},s)))]})]}),(0,W.jsx)("button",{type:"submit",className:r,children:"Content Upload"})]})]})})})}}}]);
//# sourceMappingURL=651.de30ecd4.chunk.js.map