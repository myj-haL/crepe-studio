"use strict";(self.webpackChunkminibim=self.webpackChunkminibim||[]).push([[651],{7849:(e,s,t)=>{t.d(s,{Z:()=>n});t(2791);const n=t.p+"static/media/icon-add-image.d71fd0b24118b64354b104848c7b2b1e.svg"},7210:(e,s,t)=>{t.d(s,{Z:()=>c});const n={check_form:"Check_check_form__ztXpA",fake_check:"Check_fake_check__B-2RQ"};var i=t(184);const c=function(e){let{content:s,id:t,checked:c,onChange:a}=e;return(0,i.jsxs)("label",{htmlFor:t,className:n.check_form,children:[(0,i.jsx)("input",{type:"checkbox",name:"check",id:t,className:n.true_check,onChange:a,checked:c}),(0,i.jsx)("div",{className:n.fake_check}),(0,i.jsx)("p",{children:s})]})}},5927:(e,s,t)=>{t.r(s),t.d(s,{default:()=>_});var n=t(2791),i=t(5093);const c={container:"WorkWrite_container__uS00Y",editor:"WorkWrite_editor__3wI0r",inner:"WorkWrite_inner__y8qVs",upload:"WorkWrite_upload__uLIV0",title:"WorkWrite_title__Ig1Sa",form_box:"WorkWrite_form_box__kaC1N",write_box:"WorkWrite_write_box__BOj8-",img_box:"WorkWrite_img_box__6R7fo",sub_img_list:"WorkWrite_sub_img_list__LB1v0",text_box:"WorkWrite_text_box__klanz",sub_img:"WorkWrite_sub_img__9BTWp",check_form_list:"WorkWrite_check_form_list__FrOc9"};var a=t(4307),l=(t(4409),t(7849)),r=t(7210),o=t(7689),d=t(184);const _=function(){const[e,s]=(0,n.useState)(""),[t,_]=(0,n.useState)([]),[h,m]=(0,n.useState)(""),[u,x]=(0,n.useState)(""),[p,g]=(0,n.useState)(null),[b,j]=(0,n.useState)([]),k=(0,n.useRef)(null),f=(0,n.useRef)(null),v=(0,o.s0)();(0,n.useEffect)((()=>{localStorage.getItem("accessToken")||v("/",{replace:!0})}),[v]);const W=e=>{_((s=>s.includes(e)?s.filter((s=>s!==e)):[...s,e]))};return(0,d.jsx)(i.Z,{children:(0,d.jsx)("div",{className:c.container,children:(0,d.jsxs)("div",{className:c.inner,children:[(0,d.jsx)("h3",{className:c.title,children:"Content Registration"}),(0,d.jsxs)("form",{className:c.form_box,onSubmit:async s=>{s.preventDefault();const n={NODE_ENV:"production",PUBLIC_URL:"/crepe-studio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,i=new FormData;i.append("title",e),i.append("link",h),i.append("content",u),i.append("services",JSON.stringify(t)),p&&i.append("mainImage",p),b.forEach(((e,s)=>i.append("subImages[".concat(s,"]"),e)));try{const e=await fetch("".concat(n,"/content/upload"),{method:"POST",body:i});if(e.ok)alert("Content successfully uploaded!"),v("/works");else{const s=await e.json();alert("Error: ".concat(s.message))}}catch(c){console.error("Error uploading content:",c),alert("Failed to upload content.")}},children:[(0,d.jsxs)("div",{className:c.write_box,children:[(0,d.jsx)("span",{children:"Title"}),(0,d.jsx)("input",{type:"text",value:e,onChange:e=>s(e.target.value),placeholder:"Please enter the title."})]}),(0,d.jsxs)("div",{className:c.write_box,children:[(0,d.jsx)("span",{children:"Services"}),(0,d.jsxs)("div",{className:c.check_form_list,children:[(0,d.jsx)(r.Z,{content:"Branding",id:"branding",onChange:()=>W("Branding")}),(0,d.jsx)(r.Z,{content:"UX/UI Design",id:"design",onChange:()=>W("UX/UI Design")}),(0,d.jsx)(r.Z,{content:"Web Publishing",id:"publishing",onChange:()=>W("Web Publishing")})]})]}),(0,d.jsxs)("div",{className:c.write_box,children:[(0,d.jsx)("span",{children:"Link"}),(0,d.jsx)("input",{type:"text",value:h,onChange:e=>m(e.target.value),placeholder:"Please enter the link."})]}),(0,d.jsxs)("div",{className:c.write_box,children:[(0,d.jsx)("span",{children:"Content Details"}),(0,d.jsx)(a.Z,{modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"]]},value:u,onChange:x,className:c.editor,placeholder:"Please enter the contents."})]}),(0,d.jsxs)("div",{className:c.write_box,children:[(0,d.jsxs)("span",{children:["Main Image",(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{style:{color:"#E65706"},children:p?1:0}),"/1"]})]}),(0,d.jsx)("div",{className:c.img_box,onClick:()=>{k.current&&k.current.click()},children:(0,d.jsxs)("div",{className:c.text_box,children:[(0,d.jsx)("input",{type:"file",ref:k,onChange:e=>((e,s)=>{const t=e.target.files[0];t&&s(t)})(e,g),style:{display:"none"}}),p?(0,d.jsx)("img",{alt:"Main Preview",src:URL.createObjectURL(p),className:c.preview_img}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("img",{alt:"add img",src:l.Z}),(0,d.jsx)("p",{children:"Click the icon to upload an image."})]})]})})]}),(0,d.jsxs)("div",{className:c.write_box,children:[(0,d.jsxs)("span",{children:["Sub Images",(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{style:{color:"#E65706"},children:b.length}),"/5"]})]}),(0,d.jsxs)("ul",{className:c.sub_img_list,children:[b.length<5&&(0,d.jsx)("li",{onClick:()=>{f.current&&f.current.click()},children:(0,d.jsxs)("div",{className:c.text_box,children:[(0,d.jsx)("input",{type:"file",ref:f,onChange:e=>{const s=e.target.files[0];s&&j((e=>[...e,s]))},style:{display:"none"}}),(0,d.jsx)("img",{alt:"add img",src:l.Z}),(0,d.jsx)("p",{children:"Click the icon to upload an image."})]})}),b.map(((e,s)=>(0,d.jsx)("li",{children:(0,d.jsx)("img",{alt:"sub ".concat(s),src:URL.createObjectURL(e),className:c.sub_img})},s)))]})]}),(0,d.jsx)("button",{type:"submit",className:c.upload,children:"Content Upload"})]})]})})})}}}]);
//# sourceMappingURL=651.49d80115.chunk.js.map